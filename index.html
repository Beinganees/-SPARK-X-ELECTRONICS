<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SparkX Electronics</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
    :root {
      --cyan: #00ffff;
      --blue: #007bff;
      --dark-bg: #020b1c;
      --bg-gradient: linear-gradient(135deg, #020b1c, #000000);
      --glass-bg: rgba(15, 25, 45, 0.5);
      --glass-border: rgba(0, 255, 255, 0.2);
    }
    
    * {
      box-sizing: border-box;
    }
    
    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg-gradient);
      color: #fff;
      overflow-x: hidden;
    }
    
    body.modal-open {
        overflow: hidden;
    }

    h1, h2, h3 {
       font-family: 'Poppins', sans-serif;
    }
    
    /* Particles */
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* Glass Navbar */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 3rem;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      border-bottom: 1px solid var(--glass-border);
      z-index: 1000;
    }

    nav .logo {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--cyan);
      letter-spacing: 2px;
      text-shadow: 0 0 10px var(--cyan);
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 2rem;
      margin: 0;
      padding: 0;
    }

    nav ul li a {
      color: #ccc;
      text-decoration: none;
      font-weight: 500;
      transition: 0.3s;
    }

    nav ul li a:hover {
      color: var(--cyan);
      text-shadow: 0 0 10px var(--cyan);
    }

    nav .actions button {
      padding: 0.6rem 1.2rem;
      margin-left: 1rem;
      border: none;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      background: linear-gradient(135deg, var(--cyan), var(--blue));
      color: black;
    }

    nav .actions button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--cyan);
    }
    
    #hamburger-btn {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 2rem;
        height: 2rem;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 10;
    }
    #hamburger-btn:focus {
        outline: none;
    }
    #hamburger-btn span {
        width: 2rem;
        height: 0.25rem;
        background: var(--cyan);
        border-radius: 10px;
        transition: all 0.3s linear;
        position: relative;
        transform-origin: 1px;
    }
    #hamburger-btn.active span:nth-child(1) { transform: rotate(45deg); }
    #hamburger-btn.active span:nth-child(2) { opacity: 0; transform: translateX(20px); }
    #hamburger-btn.active span:nth-child(3) { transform: rotate(-45deg); }

    /* Hero */
    .hero {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: radial-gradient(circle at center, #02142d, #000000);
      position: relative;
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
    }

    .hero h1 {
      font-size: 3.5rem;
      text-shadow: 0 0 15px var(--cyan);
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      color: #aaa;
      max-width: 600px;
      margin-bottom: 2rem;
    }

    .hero button {
      padding: 0.8rem 2rem;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      margin: 0.5rem;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
      background: linear-gradient(135deg, #00ffe5, #007bff);
      color: black;
    }

    .hero button:hover {
      box-shadow: 0 0 20px var(--cyan);
      transform: scale(1.05);
    }
    
    section {
        margin: 6rem 0;
    }
    
    /* Promotion Banner */
    #promotion-banner {
        padding: 4rem 3rem;
        text-align: center;
        background: rgba(0, 255, 255, 0.1);
        border-top: 1px solid var(--glass-border);
        border-bottom: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
    }

    #promotion-banner h2 {
        font-size: 2.5rem;
        color: var(--cyan);
        text-shadow: 0 0 15px var(--cyan);
        margin-top: 0;
        margin-bottom: 1rem;
    }

    #promotion-banner p {
        font-size: 1.1rem;
        color: #eee;
        max-width: 700px;
        margin: 0 auto;
    }

    /* Services Accordion */
    .services {
      padding: 4rem 3rem;
      background: linear-gradient(145deg, #010a18, #020f26);
    }

    .services h2 {
        text-align: center;
        margin-bottom: 3rem;
        font-size: 2.5rem;
        color: var(--cyan);
        text-shadow: 0 0 10px var(--cyan);
    }
    
    .accordion-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .accordion-item {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        margin-bottom: 1rem;
        overflow: hidden;
        transition: 0.4s;
    }

    .accordion-item:hover {
        border-color: var(--cyan);
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }
    
    .service-icon {
        height: 40px;
        width: 40px;
        color: var(--cyan);
    }

    .accordion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 1.5rem 2rem;
        background: transparent;
        border: none;
        color: #fff;
        cursor: pointer;
        text-align: left;
    }

    .accordion-header-content {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .accordion-header h3 {
        margin: 0;
        font-size: 1.2rem;
        font-family: 'Poppins', sans-serif;
    }

    .accordion-icon {
        font-size: 2rem;
        font-weight: 300;
        color: var(--cyan);
        transition: transform 0.3s ease-out;
    }

    .accordion-header.active .accordion-icon {
        transform: rotate(45deg);
    }

    .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease-out;
    }

    .accordion-content p {
        padding: 0 2rem 1.5rem 2rem;
        margin: 0;
        color: #ccc;
        line-height: 1.7;
        padding-left: calc(2rem + 40px + 1.5rem); /* Align with heading text */
    }

    /* About Section */
    .about-us {
      padding: 4rem 3rem;
      background: #000;
    }
    .about-us h2 {
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2.5rem;
      color: var(--cyan);
      text-shadow: 0 0 10px var(--cyan);
    }
    .about-item {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
      margin-bottom: 4rem;
    }
    .about-item:nth-child(even) .about-image { order: 2; }
    .about-image {
      border: 2px solid var(--glass-border);
      padding: 1rem;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 250px;
      animation: pulse-glow 3s infinite ease-in-out;
      overflow: hidden;
    }
    .about-image img {
      width: 100%;
      max-width: 100%;
      border-radius: 10px;
      animation: subtle-zoom 8s infinite ease-in-out;
    }
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 10px var(--glass-border); }
      50% { box-shadow: 0 0 20px var(--cyan); }
    }
    @keyframes subtle-zoom {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .about-text h3 { font-size: 1.8rem; color: var(--cyan); }
    .about-text p { color: #ccc; line-height: 1.7; }

    /* Products */
    .products {
      padding: 4rem 3rem;
      background: #000;
    }

    .products h2 {
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2.5rem;
      color: var(--cyan);
      text-shadow: 0 0 10px var(--cyan);
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      perspective: 1000px;
    }

    .product-card {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 1.5rem;
      transition: transform 0.4s ease-out, box-shadow 0.4s ease;
      display: flex;
      flex-direction: column;
      transform-style: preserve-3d;
      position: relative;
      overflow: hidden;
    }
    
    .product-card:hover {
      box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
    }
    
    .product-card .img-container {
        width: 100%;
        height: 180px;
        margin-bottom: 1.5rem;
        border-radius: 10px;
        overflow: hidden;
        background-color: rgba(255,255,255,0.05);
        display:flex;
        align-items:center;
        justify-content:center;
        color: #888;
        font-size: 0.9rem;
        transform: translateZ(20px);
    }

    .product-card .img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .product-card .product-details {
      flex-grow: 1;
      text-align: center;
      transform: translateZ(10px);
    }

    .product-card h3 {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }
    
    .product-card .product-price {
      margin: 0;
      font-size: 1.2rem;
      color: var(--cyan);
      font-weight: bold;
    }
    
    .product-price del {
        color: #aaa;
        font-weight: normal;
        font-size: 1rem;
        margin-right: 0.5rem;
    }
    
    .product-price ins {
        text-decoration: none;
        color: var(--cyan);
    }
    
    .sale-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #ff4444;
        color: white;
        padding: 4px 10px;
        font-size: 0.8rem;
        font-weight: bold;
        border-radius: 5px;
        z-index: 5;
    }
    
    .product-card .product-description {
        font-size: 0.9rem;
        color: #aaa;
        margin-top: 1rem;
        flex-grow: 1;
    }

    .product-actions {
        margin-top: 1.5rem;
        display: flex;
        gap: 0.5rem;
        transform: translateZ(30px);
    }
    
    .product-actions button {
        flex: 1;
        padding: 0.7rem 1rem;
        border: none;
        border-radius: 50px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
        font-size: 0.9rem;
    }

    .buy-now-btn {
        background: linear-gradient(135deg, var(--cyan), var(--blue));
        color: black;
    }
    
    .quick-view-btn {
        background: rgba(255,255,255,0.1);
        color: #fff;
        border: 1px solid var(--glass-border);
    }

    .buy-now-btn:hover, .quick-view-btn:hover {
        box-shadow: 0 0 15px var(--cyan);
        transform: scale(1.05);
    }
    
    /* Product Variants */
    .product-variants {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
        margin-top: 1rem;
        min-height: 28px; /* Reserve space to prevent layout shift */
    }
    .variant-btn {
        padding: 0.3rem 0.8rem;
        border: 1px solid var(--glass-border);
        border-radius: 50px;
        background: transparent;
        color: #ccc;
        cursor: pointer;
        transition: 0.3s;
        font-size: 0.8rem;
    }
    .variant-btn.active, .variant-btn:hover {
        background: var(--cyan);
        color: black;
        border-color: var(--cyan);
        font-weight: bold;
    }
    
    /* Star Ratings */
    .star-rating {
        margin: 0.75rem 0 0.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.25rem;
    }
    .star-rating .star {
        font-size: 1.2rem;
        color: #888;
    }
    .star-rating .star.filled {
        color: #ffc107;
        text-shadow: 0 0 5px #ffc107;
    }
    .star-rating .rating-count {
        font-size: 0.8rem;
        margin-left: 0.5rem;
        color: #aaa;
    }
    
    /* Rating input in modal */
    .rating-submission {
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--glass-border);
        text-align: center;
    }
    .rating-submission h4 {
        margin-top: 0;
        margin-bottom: 1rem;
        font-weight: 500;
        color: #ccc;
    }
    .rating-input {
        font-size: 2rem;
        cursor: pointer;
    }
    .rating-input .star {
        color: #888;
        transition: color 0.2s, transform 0.2s;
        display: inline-block;
    }
    .rating-input .star:hover {
        transform: scale(1.2);
    }
    .rating-input:hover .star {
        color: #ffc107;
    }
    .rating-input .star:hover ~ .star {
        color: #888;
    }
    #submit-rating-btn {
        margin-top: 1.5rem;
        padding: 0.6rem 1.5rem;
        border: 1px solid var(--cyan);
        border-radius: 50px;
        background: transparent;
        color: var(--cyan);
        cursor: pointer;
        transition: 0.3s;
    }
    #submit-rating-btn:hover {
        background: var(--cyan);
        color: black;
    }

    /* Social Share */
    .social-share-container {
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--glass-border);
        text-align: center;
    }
    .social-share-container h4 {
        margin-top: 0;
        margin-bottom: 1rem;
        font-weight: 500;
        color: #ccc;
    }
    .social-share-icons {
        display: flex;
        justify-content: center;
        gap: 1rem;
    }
    .share-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        color: #ccc;
        text-decoration: none;
        transition: 0.3s;
        border: 1px solid var(--glass-border);
    }
    .share-icon:hover {
        color: var(--cyan);
        background: rgba(0, 255, 255, 0.1);
        transform: scale(1.1);
        box-shadow: 0 0 10px var(--cyan);
    }
    .share-icon svg {
        width: 22px;
        height: 22px;
    }
    .copy-link {
        cursor: pointer;
        font-size: 1.2rem;
    }

    /* Testimonials Section */
    .testimonials {
      padding: 4rem 3rem;
      background: var(--dark-bg);
    }
    .testimonials h2 {
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2.5rem;
      color: var(--cyan);
      text-shadow: 0 0 10px var(--cyan);
    }
    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .testimonial-card {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      transition: 0.3s;
    }
    .testimonial-card:hover {
      border-color: var(--cyan);
      transform: translateY(-10px);
    }
    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .testimonial-avatar-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid var(--cyan);
      padding: 8px;
      box-sizing: border-box;
      background: rgba(0, 255, 255, 0.1);
      color: var(--cyan);
    }
    .testimonial-author h4 {
      margin: 0;
      font-size: 1.1rem;
      color: #fff;
    }
    .testimonial-author p {
      margin: 0;
      font-size: 0.9rem;
      color: #aaa;
    }
    .testimonial-card blockquote {
      margin: 0;
      font-style: italic;
      color: #ccc;
      line-height: 1.7;
      flex-grow: 1;
      position: relative;
      padding-left: 1rem;
    }
    .testimonial-card blockquote::before {
      content: '“';
      font-family: 'Poppins', sans-serif;
      position: absolute;
      left: -1rem;
      top: -1.5rem;
      font-size: 5rem;
      color: var(--cyan);
      opacity: 0.2;
      z-index: -1;
    }

    /* Gallery Section */
    .gallery {
      padding: 4rem 3rem;
    }
    .gallery h2 {
      text-align: center;
      margin-bottom: 3rem;
      font-size: 2.5rem;
      color: var(--cyan);
      text-shadow: 0 0 10px var(--cyan);
    }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }
    .gallery-item {
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
      border: 1px solid var(--glass-border);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .gallery-item:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
    }
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Gallery Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 3000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      animation: fadeIn 0.3s;
    }
    .lightbox-content {
      position: relative;
      margin: auto;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
    }
    #lightbox-figure {
        margin: 0;
        text-align: center;
        max-width: 90vw;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    #lightbox-img {
      max-width: 100%;
      max-height: 85vh; /* Reserve space for caption */
      object-fit: contain;
      animation: subtle-zoom 0.4s;
    }
    #lightbox-caption {
        color: #ccc;
        padding-top: 15px;
        font-size: 1rem;
        line-height: 1.5;
        opacity: 0;
        animation: fadeIn 0.5s 0.2s forwards;
    }
    .lightbox-close {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      transition: 0.3s;
      cursor: pointer;
    }
    .lightbox-close:hover {
      color: var(--cyan);
    }
    .lightbox-prev, .lightbox-next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      width: auto;
      padding: 16px;
      margin-top: -50px;
      color: white;
      font-weight: bold;
      font-size: 24px;
      transition: 0.3s ease;
      border-radius: 0 3px 3px 0;
      user-select: none;
      background: rgba(0,0,0,0.3);
    }
    .lightbox-prev:hover, .lightbox-next:hover {
      background: rgba(0, 255, 255, 0.3);
    }
    .lightbox-prev { left: 10px; border-radius: 3px 0 0 3px; }
    .lightbox-next { right: 10px; border-radius: 0 3px 3px 0; }
    .lightbox-counter {
        position: absolute;
        top: 20px;
        left: 20px;
        color: #ccc;
        font-size: 1rem;
    }


    /* Footer */
    footer {
      padding: 3rem 2rem;
      text-align: center;
      background: rgba(15,25,45,0.8);
      border-top: 1px solid var(--glass-border);
      color: #aaa;
    }
    .social-icons {
        margin-bottom: 1.5rem;
    }
    .social-icons a {
        color: #888;
        margin: 0 1rem;
        font-size: 1.5rem;
        transition: 0.3s;
    }
    .social-icons a:hover {
        color: var(--cyan);
        text-shadow: 0 0 10px var(--cyan);
    }
    .contact-info {
        margin-top: 1rem;
        font-size: 0.9rem;
        line-height: 1.8;
    }
    .contact-info a {
        color: var(--cyan);
        text-decoration: none;
        transition: 0.3s;
    }
    .contact-info a:hover {
        text-decoration: underline;
    }

    /* Generic Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.7);
        backdrop-filter: blur(5px);
        animation: fadeIn 0.3s ease-out;
        align-items: center;
        justify-content: center;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .modal-content {
        background: rgba(15, 25, 45, 0.8);
        backdrop-filter: blur(20px);
        margin: 0;
        padding: 2rem;
        border: 1px solid rgba(0,255,255,0.3);
        width: 90%;
        max-width: 500px;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(0,255,255,0.2);
        color: #fff;
        position: relative;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    .modal-content h2, .admin-card h3 {
        color: var(--cyan);
        text-shadow: 0 0 10px var(--cyan);
        text-align: center;
        margin-top: 0;
    }
    
    .admin-card h3 {
        text-align: left;
        margin-bottom: 1.5rem;
    }

    .modal-content .close-btn {
        color: #aaa;
        position: absolute;
        top: 1rem;
        right: 1.5rem;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
    }

    .modal-content .close-btn:hover {
        color: var(--cyan);
    }

    /* Admin Panel Modal Refactor */
    .admin-panel {
        max-width: 1100px;
        padding: 0;
        overflow: hidden;
    }
    .admin-panel-header {
        padding: 1.5rem 2rem;
        border-bottom: 1px solid var(--glass-border);
    }
    .admin-panel-header h2 {
        margin: 0;
        text-align: left;
    }
    .admin-panel-layout {
        display: grid;
        grid-template-columns: 220px 1fr;
        height: 70vh;
    }
    .admin-sidebar {
        background: rgba(0,0,0,0.2);
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        border-right: 1px solid var(--glass-border);
    }
    .admin-nav-btn {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        width: 100%;
        padding: 0.8rem 1rem;
        background: transparent;
        border: 1px solid transparent;
        border-radius: 8px;
        color: #ccc;
        cursor: pointer;
        text-align: left;
        font-size: 1rem;
        font-family: 'Inter', sans-serif;
        transition: 0.3s;
    }
    .admin-nav-btn:hover {
        background: var(--glass-bg);
        color: #fff;
    }
    .admin-nav-btn.active {
        background: rgba(0, 255, 255, 0.1);
        color: var(--cyan);
        border-color: var(--glass-border);
        font-weight: bold;
    }
    .admin-nav-btn svg {
        width: 20px;
        height: 20px;
    }
    .admin-main-content {
        padding: 2rem;
        overflow-y: auto;
    }
    .admin-section {
        display: none;
    }
    .admin-section.active {
        display: block;
    }
    .admin-card {
        background: rgba(0,0,0,0.3);
        padding: 1.5rem;
        border-radius: 10px;
        border: 1px solid var(--glass-border);
        margin-bottom: 2rem;
    }
    
    .admin-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 2rem;
    }
    .admin-table th, .admin-table td {
        border: 1px solid var(--glass-border);
        padding: 0.8rem;
        text-align: left;
        vertical-align: middle;
    }
    .admin-table th {
        background-color: rgba(0,255,255,0.1);
    }
    .admin-table img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 5px;
    }
    .admin-table .product-description-cell {
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 0.9rem;
        color: #ccc;
    }
    .admin-table button {
        padding: 0.4rem 0.8rem;
        margin-right: 0.5rem;
        border: 1px solid var(--cyan);
        border-radius: 5px;
        cursor: pointer;
        background: transparent;
        color: var(--cyan);
        transition: 0.3s;
    }
    .admin-table button:hover {
        background: var(--cyan);
        color: black;
    }
    
    /* Variant Management in Admin Panel */
    #variant-list .variant-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.8rem;
        border-radius: 5px;
        background: rgba(0,0,0,0.3);
        margin-bottom: 0.5rem;
    }
    #variant-list .variant-item span {
        flex: 1;
    }
    #variant-list .variant-item button {
        padding: 0.2rem 0.6rem;
        font-size: 0.8rem;
    }


    .admin-form {
        /* Styles are now handled by .admin-card */
    }
    .form-row {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .form-group {
      flex: 1;
      margin-bottom: 1rem;
    }
    .form-group:last-child {
      margin-bottom: 0;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      color: #ccc;
    }
    input[type="text"], input[type="tel"], input[type="password"], textarea, input[type="search"], input[type="file"], input[type="email"], input[type="password"] {
        width: 100%;
        padding: 0.7rem;
        border-radius: 5px;
        border: 1px solid rgba(0,255,255,0.3);
        background: rgba(0,0,0,0.5);
        color: #fff;
        font-family: 'Inter', sans-serif;
    }
    input[type="file"] {
        padding: 0.5rem;
    }
    textarea {
        resize: vertical;
        min-height: 80px;
    }
    input[type="checkbox"] {
      color: #ccc;
    }
    .checkbox-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    .image-preview-container {
      text-align: center;
    }
    #image-preview, #screenshot-preview {
      max-width: 100px;
      max-height: 100px;
      border-radius: 5px;
      border: 1px solid rgba(0,255,255,0.3);
      margin-top: 0.5rem;
    }
    #remove-image-btn {
      background: #8B0000;
      color: white;
      border: 1px solid #ff0000;
      margin-top: 0.5rem;
    }
    .form-actions {
      text-align: right;
      margin-top: 1rem;
    }
    .form-actions button {
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      background: linear-gradient(135deg, var(--cyan), var(--blue));
      color: black;
      margin-left: 1rem;
    }
    .form-actions button:hover {
      box-shadow: 0 0 15px var(--cyan);
    }
    
    /* Delivery, Payment, Confirmation, Orders & Quick View Modals */
    #product-to-buy-info, #quick-view-content {
        text-align: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid var(--glass-border);
    }
    #product-to-buy-info h3, #quick-view-content h3 { margin: 0.5rem 0; }
    #product-to-buy-info p, #quick-view-content .price { margin: 0; color: var(--cyan); font-size: 1.2rem; }
    
    #quick-view-img {
        width: 100%;
        max-height: 250px;
        object-fit: contain;
        margin-bottom: 1rem;
    }
    
    #quick-view-content .description {
        color: #ccc;
        font-size: 1rem;
        line-height: 1.6;
    }

    #qr-code-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 2rem 0;
        background: white;
        padding: 1rem;
        border-radius: 10px;
    }

    #payment-details {
        text-align: center;
    }
    #payment-details p { margin: 0.5rem 0; }
    #payment-details .price { font-size: 1.5rem; color: var(--cyan); }
    #payment-details .upi-id { font-size: 0.9rem; color: #ccc; }
    
    .summary-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .summary-item:last-child { border-bottom: none; }
    
    .summary-label { color: #ccc; }
    .summary-value { font-weight: bold; }
    
    .confirmation-summary, .order-details-summary {
        background: rgba(0,0,0,0.2);
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 1.5rem;
    }
    .tracking-id {
        margin-top: 1rem;
        padding: 1rem;
        background: rgba(0,255,255,0.1);
        border: 1px dashed var(--cyan);
        border-radius: 5px;
        text-align: center;
        font-size: 1.2rem;
        letter-spacing: 2px;
        color: var(--cyan);
    }
    #order-search-results {
        margin-top: 1.5rem;
        max-height: 300px;
        overflow-y: auto;
    }
    #order-search-results .order-result-card {
        background: rgba(0,0,0,0.3);
        border-radius: 10px;
        margin-bottom: 1rem;
        border: 1px solid var(--glass-border);
    }
    .order-result-header {
        padding: 1rem;
        border-bottom: 1px solid var(--glass-border);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .order-result-body {
        padding: 1rem;
    }
    .order-result-body .summary-item {
        padding: 0.6rem 0;
    }
    .status-badge {
      padding: 4px 8px;
      border-radius: 5px;
      font-size: 0.8rem;
      font-weight: bold;
      color: white;
      text-transform: capitalize;
    }
    .status-pending_razorpay { background-color: #ffc107; color: black; }
    .status-confirmed { background-color: #28a745; }
    .status-rejected { background-color: #dc3545; }

    /* Webhook Simulation Styles */
    #webhook-event-log {
        margin-top: 1.5rem;
        background: rgba(0,0,0,0.5);
        border-radius: 5px;
        padding: 1rem;
        height: 200px;
        overflow-y: auto;
        font-family: monospace;
        font-size: 0.9rem;
        white-space: pre-wrap;
    }
    #webhook-event-log .log-entry {
        padding-bottom: 0.5rem;
        margin-bottom: 0.5rem;
        border-bottom: 1px solid var(--glass-border);
    }
    #webhook-event-log .log-entry.success { color: #28a745; }
    #webhook-event-log .log-entry.error { color: #dc3545; }

    /* Order Success & Confirmation Modals */
    .success-icon circle {
        animation: success-circle-anim 0.6s ease-in-out;
    }
    .success-icon path {
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        animation: success-check-anim 0.4s 0.3s ease-in-out forwards;
    }
    @keyframes success-circle-anim {
        from { transform: scale(0); }
        to { transform: scale(1); }
    }
    @keyframes success-check-anim {
        from { stroke-dashoffset: 48; }
        to { stroke-dashoffset: 0; }
    }
    
    /* Payment Processing Spinner */
    .spinner {
        border: 4px solid rgba(255, 255, 255, 0.2);
        border-left-color: var(--cyan);
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 1.5rem auto;
    }
    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    /* Email Confirmation Preview */
    .email-preview {
        margin-top: 2rem;
        padding: 1.5rem;
        background: rgba(0,0,0,0.3);
        border-radius: 10px;
        border: 1px solid var(--glass-border);
        text-align: left;
        font-family: monospace;
        font-size: 0.9rem;
        color: #ccc;
        white-space: pre-wrap;
        word-wrap: break-word;
    }
    .email-preview h4 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #fff;
        font-family: 'Poppins', sans-serif;
    }
    #email-subject {
        font-weight: bold;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--glass-border);
    }
    
    /* Scroll Animations */
    .reveal-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        will-change: opacity, transform;
    }

    .reveal-on-scroll.visible {
        opacity: 1;
        transform: translateY(0);
    }

    @media (max-width: 992px) {
        nav {
            padding: 1rem 1.5rem;
        }
        nav ul {
            position: fixed;
            right: -100%;
            top: 0;
            height: 100vh;
            width: 70%;
            max-width: 300px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: var(--dark-bg);
            border-left: 1px solid var(--glass-border);
            padding: 5rem 2rem;
            transition: right 0.35s ease-in-out;
            z-index: 1000;
        }
        nav ul.active {
            right: 0;
        }
        #hamburger-btn {
            display: flex;
            z-index: 1001;
        }
        .admin-panel-layout {
            grid-template-columns: 1fr;
            height: 80vh;
        }
        .admin-sidebar {
            flex-direction: row;
            flex-wrap: wrap;
            border-right: none;
            border-bottom: 1px solid var(--glass-border);
        }
        .admin-nav-btn {
            flex-grow: 1;
        }
    }
    
    @media (max-width: 768px) {
      .hero h1 { font-size: 2.5rem; }
      .about-item { grid-template-columns: 1fr; }
      .about-item:nth-child(even) .about-image { order: 0; }
      .form-row { flex-direction: column; gap: 0; }
      
      /* Responsive Admin Table */
      .admin-table {
        border: 0;
      }
      .admin-table thead {
        display: none;
      }
      .admin-table tr {
        display: block;
        margin-bottom: 1rem;
        border: 1px solid var(--glass-border);
        border-radius: 8px;
        padding: 1rem;
      }
      .admin-table td {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        text-align: right;
        position: relative;
        border: none;
        padding: 0.5rem 0;
        border-bottom: 1px solid var(--glass-border);
      }
       .admin-table tr td:last-child {
        border-bottom: none;
      }
      .admin-table td:before {
        content: attr(data-label);
        margin-right: auto;
        text-align: left;
        font-weight: bold;
        color: #ccc;
      }
       .admin-table img {
        width: 40px;
        height: 40px;
      }
      .admin-table .product-description-cell {
        max-width: 100%;
        white-space: normal;
        text-align: right;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="logo">SparkX</div>
    <ul id="nav-links">
      <li><a href="#hero-section">Home</a></li>
      <li><a href="#products-section">Shop</a></li>
      <li><a href="#services-section">Services</a></li>
      <li><a href="#about-section">About</a></li>
      <li><a href="#gallery-section">Gallery</a></li>
      <li><a href="#" id="my-orders-btn">My Orders</a></li>
    </ul>
    <div class="actions">
      <button onclick="document.getElementById('products-section').scrollIntoView();">Shop Now</button>
      <button id="admin-btn">Admin</button>
    </div>
    <button id="hamburger-btn" aria-label="Toggle navigation menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </nav>

  <!-- Hero -->
  <section class="hero" id="hero-section">
    <div id="particles-js"></div>
    <div class="hero-content">
      <h1>Powering the Future with Innovative Electronics</h1>
      <p>Your trusted partner for quality components, expert repairs, and cutting-edge solutions.</p>
      <button onclick="document.getElementById('products-section').scrollIntoView();">Shop Now</button>
      <button onclick="document.getElementById('services-section').scrollIntoView();">Our Services</button>
    </div>
  </section>

  <!-- Promotion Banner -->
  <section id="promotion-banner" style="display: none;"></section>

  <!-- Services -->
  <section class="services" id="services-section">
    <h2>Our Services</h2>
    <div class="accordion-container">
        <div class="accordion-item">
            <button class="accordion-header" aria-expanded="false">
                <div class="accordion-header-content">
                    <div class="service-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18M18.75 3v18M9 6.75h6.375a3.375 3.375 0 013.375 3.375v3.75a3.375 3.375 0 01-3.375 3.375H9V6.75z" /></svg></div>
                    <h3>Corporate & Home Services</h3>
                </div>
                <span class="accordion-icon">+</span>
            </button>
            <div class="accordion-content">
                <p>We provide bespoke electronics solutions for both corporate offices and residential clients. Our services include Annual Maintenance Contracts (AMCs), bulk installations for new setups, and customized wiring plans to ensure optimal performance and safety. Trust SparkX for reliable and professional service at any scale.</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-header" aria-expanded="false">
                <div class="accordion-header-content">
                    <div class="service-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.73-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.474-4.474c-.048-.58-.188-1.193-.343-1.743m-4.474 4.474l-5.63-6.837a2.548 2.548 0 113.586 3.586l3.03-2.496m-3.586 3.586l-2.496 3.03" /></svg></div>
                    <h3>Fan & Cooler Servicing</h3>
                </div>
                <span class="accordion-icon">+</span>
            </button>
            <div class="accordion-content">
                <p>Keep your cool with our expert fan and cooler servicing. Our comprehensive check-up includes deep cleaning of blades and components, motor inspection and oiling, bearing lubrication, and performance testing to ensure silent, efficient operation and extend the life of your appliances.</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-header" aria-expanded="false">
                <div class="accordion-header-content">
                    <div class="service-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9" /></svg></div>
                    <h3>Complete Wiring Solutions</h3>
                </div>
                <span class="accordion-icon">+</span>
            </button>
            <div class="accordion-content">
                <p>From brand new constructions to renovations and system upgrades, we offer end-to-end electrical wiring solutions. Our certified electricians adhere to the highest safety standards, ensuring a secure and reliable power infrastructure for your property. We also conduct safety audits and troubleshoot existing wiring issues.</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-header" aria-expanded="false">
                <div class="accordion-header-content">
                    <div class="service-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.73-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.474-4.474c-.048-.58-.188-1.193-.343-1.743m-4.474 4.474l-5.63-6.837a2.548 2.548 0 113.586 3.586l3.03-2.496m-3.586 3.586l-2.496 3.03" /></svg></div>
                    <h3>Repair & Installation</h3>
                </div>
                <span class="accordion-icon">+</span>
            </button>
            <div class="accordion-content">
                <p>Got a faulty appliance? Need a new one installed? Our skilled technicians are here to help. We repair a wide range of electronic devices and provide seamless installation services for fans, coolers, lighting, and more. Quick, efficient, and hassle-free service is our guarantee.</p>
            </div>
        </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="about-us" id="about-section">
      <h2>About SparkX</h2>
      <div class="about-item">
          <div class="about-text">
              <h3>Who We Are</h3>
              <p>Spark X Electronics is a leading electronics trading and service provider with a vision to bring advanced, reliable, and sustainable technology solutions to homes and businesses. Founded with a mission to make quality electronics accessible, we have quickly grown into a trusted name in sales, services, and maintenance of electronic products.</p>
          </div>
          <div class="about-image">
            <img src="https://placehold.co/600x400/020b1c/00ffff?text=SparkX+Team" alt="A professional team working on electronics with glowing circuit background." loading="lazy">
          </div>
      </div>
      <div class="about-item">
          <div class="about-text">
              <h3>Our Vision</h3>
              <p>We envision Spark X Electronics as a global player in electronics and digital services, recognized for excellence, innovation, and customer satisfaction. By blending modern technology with everyday needs, we aim to redefine living standards and make advanced electronics an integral part of daily life.</p>
          </div>
          <div class="about-image">
            <img src="https://placehold.co/600x400/020b1c/00ffff?text=Future+Vision" alt="Futuristic city with neon-lit Spark X billboards." loading="lazy">
          </div>
      </div>
  </section>

  <!-- Products -->
  <section class="products" id="products-section">
    <h2>Featured Products</h2>
    <div class="product-grid">
      <div class="product-card" data-id="1" id="product-1">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>High-Speed Ceiling Fan</h3>
          <p class="product-price" data-original-price="₹1199">₹1199</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
          <p class="product-description">A high-performance ceiling fan for maximum airflow.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
      <div class="product-card" data-id="2" id="product-2">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>Portable Table Fan</h3>
          <p class="product-price" data-original-price="₹799">₹799</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
           <p class="product-description">Compact and powerful fan, perfect for personal cooling.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
      <div class="product-card" data-id="3" id="product-3">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>Personal Air Cooler</h3>
          <p class="product-price" data-original-price="₹3499">₹3499</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
          <p class="product-description">Efficient air cooler with honeycomb pads for quick cooling.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
      <div class="product-card" data-id="4" id="product-4">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>9W LED Bulb (Pack of 4)</h3>
          <p class="product-price" data-original-price="₹299">₹299</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
          <p class="product-description">Energy-saving bright white LED bulbs for your home.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
      <div class="product-card" data-id="5" id="product-5">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>1.5mm Copper Wire (90m)</h3>
          <p class="product-price" data-original-price="₹1299">₹1299</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
          <p class="product-description">High-quality, insulated copper wire for safe electrical wiring.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
      <div class="product-card" data-id="6" id="product-6">
        <div class="sale-badge" style="display: none;">Sale</div>
        <div class="img-container">No Image</div>
        <div class="product-details">
          <h3>Digital Multimeter</h3>
          <p class="product-price" data-original-price="₹499">₹499</p>
          <div class="star-rating"></div>
          <div class="product-variants"></div>
          <p class="product-description">A must-have tool for any electronics enthusiast or professional.</p>
        </div>
        <div class="product-actions">
          <button class="quick-view-btn">Quick View</button>
          <button class="buy-now-btn">Buy Now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials" id="testimonials-section">
      <h2>What Our Customers Say</h2>
      <div class="testimonial-grid">
          <div class="testimonial-card">
              <div class="testimonial-author">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="testimonial-avatar-icon" aria-hidden="true"><path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" /></svg>
                  <div>
                      <h4>Priya Sharma</h4>
                      <p>Homeowner, Bangalore</p>
                  </div>
              </div>
              <blockquote>
                  "SparkX's team was incredibly professional. They rewired my entire house, and their work was neat and efficient. The new LED lighting they installed is fantastic and has lowered my energy bills!"
              </blockquote>
          </div>
          <div class="testimonial-card">
              <div class="testimonial-author">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="testimonial-avatar-icon" aria-hidden="true"><path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" /></svg>
                  <div>
                      <h4>Amit Singh</h4>
                      <p>Office Manager, Mumbai</p>
                  </div>
              </div>
              <blockquote>
                  "We hired SparkX for our office's annual maintenance contract. Their response time is excellent, and their technicians are knowledgeable. Our equipment runs smoothly thanks to their proactive service."
              </blockquote>
          </div>
          <div class="testimonial-card">
              <div class="testimonial-author">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="testimonial-avatar-icon" aria-hidden="true"><path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" /></svg>
                  <div>
                      <h4>Sunita Reddy</h4>
                      <p>DIY Enthusiast, Hyderabad</p>
                  </div>
              </div>
              <blockquote>
                  "The quality of the components I bought from SparkX is top-notch. Their online store is easy to navigate, and the products are priced fairly. It's my go-to shop for all my electronic projects."
              </blockquote>
          </div>
      </div>
  </section>

  <!-- Gallery Section -->
  <section class="gallery" id="gallery-section">
      <h2>Our Gallery</h2>
      <div class="gallery-grid">
          <div class="gallery-item" data-caption="High-Speed Ceiling Fan for maximum airflow."><img src="https://placehold.co/400x400/020b1c/00ffff?text=High-Speed+Fan" alt="A sleek, modern high-speed ceiling fan from SparkX." loading="lazy"></div>
          <div class="gallery-item" data-caption="Compact and powerful portable table fan."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Portable+Fan" alt="A compact and powerful portable table fan." loading="lazy"></div>
          <div class="gallery-item" data-caption="Efficient personal air cooler with advanced cooling."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Air+Cooler" alt="An efficient personal air cooler with advanced cooling technology." loading="lazy"></div>
          <div class="gallery-item" data-caption="Pack of 4 energy-saving 9W LED bulbs."><img src="https://placehold.co/400x400/020b1c/00ffff?text=LED+Bulbs" alt="A pack of bright, energy-saving 9W LED bulbs." loading="lazy"></div>
          <div class="gallery-item" data-caption="High-quality 1.5mm insulated copper wire (90m coil)."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Copper+Wire" alt="A 90-meter coil of high-quality 1.5mm insulated copper wire." loading="lazy"></div>
          <div class="gallery-item" data-caption="Precise digital multimeter for professionals and hobbyists."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Multimeter" alt="A precise digital multimeter, an essential tool for electronics work." loading="lazy"></div>
          <div class="gallery-item" data-caption="Technician skillfully servicing electronic equipment."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Expert+Repair" alt="A technician skillfully servicing electronic equipment in the workshop." loading="lazy"></div>
          <div class="gallery-item" data-caption="Neatly organized electrical panel showcasing wiring solutions."><img src="https://placehold.co/400x400/020b1c/00ffff?text=Wiring+Solutions" alt="A neatly organized electrical panel showcasing our complete wiring solutions." loading="lazy"></div>
      </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="social-icons">
        <a href="#" aria-label="LinkedIn"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"/></svg></a>
        <a href="https://www.instagram.com/sparkx_electronics" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8a1.25 1.25 0 0 1-1.25-1.25A1.25 1.25 0 0 1 17.25 5.5M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3Z"/></svg></a>
        <a href="#" aria-label="YouTube"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 5.83c-.25 2.01-1.55 3.28-3.56 3.53c-1.24.16-2.5.21-3.92.23c-1.42.02-2.73.02-4.16.02s-2.75 0-4.17-.02c-1.42-.02-2.68-.07-3.92-.23C.96 21.11-.34 19.84.02 17.83c.13-.67.22-1.34.28-2.09C.36 15.01.4 14.32.4 12c0-2.19.16-3.8.44-5.83C1.09 4.16 2.39 2.89 4.4 2.64c1.24-.16 2.5-.21 3.92-.23c1.42-.02 2.73.02-4.16.02s2.75 0 4.17-.02c1.42.02 2.68.07 3.92.23c2.01.25 3.31 1.52 3.56 3.53Z"/></svg></a>
    </div>
    <p>© 2025 SparkX Electronics. Powering Innovation Worldwide.</p>
    <p class="contact-info">Contact us: <a href="mailto:mohdanees985@gmail.com">mohdanees985@gmail.com</a> | Mobile: <a href="tel:+919120795494">+91 9120795494</a>
    <br>
    <a href="#" style="margin: 0 10px;">Privacy Policy</a> | <a href="#" style="margin: 0 10px;">Return Policy</a>
    </p>
  </footer>

  <!-- All Modals -->
  <!-- Admin Login Modal -->
  <div id="login-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="login-modal-title">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2 id="login-modal-title">Admin Login</h2>
      <form id="login-form">
        <div class="form-group">
          <label for="userid">User ID</label>
          <input type="text" id="userid" required>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" required>
        </div>
        <p id="login-error" style="color: #ff4444; text-align: center; display: none;"></p>
        <div class="form-actions" style="justify-content:flex-end; display:flex;">
          <button type="submit">Login</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Admin Panel Modal -->
  <div id="admin-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="admin-modal-title">
      <div class="modal-content admin-panel">
          <span class="close-btn">&times;</span>
          <div class="admin-panel-header">
             <h2 id="admin-modal-title">Admin Panel</h2>
          </div>
          <div class="admin-panel-layout">
              <nav class="admin-sidebar">
                <button class="admin-nav-btn active" data-tab="products">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M3 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3Zm12 2a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"/></svg>
                    <span>Products</span>
                </button>
                <button class="admin-nav-btn" data-tab="orders">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H4Zm10.5 4.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 1 0v-3ZM10 10a.5.5 0 0 0-1 0v1a.5.5 0 0 0 1 0v-1Zm-2.5 1.5a.5.5 0 0 0-1 0v2a.5.5 0 0 0 1 0v-2Z" clip-rule="evenodd" /></svg>
                    <span>Orders</span>
                </button>
                <button class="admin-nav-btn" data-tab="webhooks">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 3.5a1.5 1.5 0 0 1 3 0V5h-3V3.5ZM10 5H4.062a.5.5 0 0 0-.5.5v1.25a.75.75 0 0 0 1.5 0V6.5h3.188a2 2 0 0 1 1.99 1.838l.333 3.332a2.5 2.5 0 0 1-2.485 2.83L8.5 14.5H8.25a.75.75 0 0 0 0 1.5h.25a4 4 0 0 0 3.976-4.525l-.333-3.332A.5.5 0 0 0 11.938 6.5H12v-.25a.75.75 0 0 0 1.5 0V5.5a.5.5 0 0 0-.5-.5H13V3.5a3 3 0 1 0-6 0V5H4.062a2 2 0 0 0-2 2V16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H10Z" /></svg>
                    <span>Webhooks</span>
                </button>
                <button class="admin-nav-btn" data-tab="settings">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 0 1-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 0 1 .947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 0 1 2.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 0 1 2.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 0 1 .947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 0 1-.947-2.287c.836-1.372-.734-2.942-2.106-2.106A1.532 1.532 0 0 1 11.49 3.17ZM10 8a2 2 0 1 0 0 4a2 2 0 0 0 0-4Z" clip-rule="evenodd" /></svg>
                    <span>Settings</span>
                </button>
              </nav>
              <main class="admin-main-content">
                 <!-- Products Section -->
                 <div id="admin-section-products" class="admin-section active">
                    <table class="admin-table">
                        <thead><tr><th>Image</th><th>Product Name</th><th>Description</th><th>Price</th><th>Actions</th></tr></thead>
                        <tbody id="admin-product-list"></tbody>
                    </table>
                    <div class="admin-card">
                      <h3 id="form-title">Add New Product</h3>
                      <form id="product-form" class="admin-form">
                          <input type="hidden" id="product-id"><input type="hidden" id="remove-image-flag" value="false">
                          <div class="form-row">
                            <div class="form-group"><label for="product-name">Product Name</label><input type="text" id="product-name" required></div>
                          </div>
                          <div class="form-row">
                              <div class="form-group"><label for="product-price">Original Price</label><input type="text" id="product-price" placeholder="e.g., ₹1199" required></div>
                              <div class="form-group"><label for="product-sale-price">Sale Price (Optional)</label><input type="text" id="product-sale-price" placeholder="e.g., ₹999"></div>
                          </div>
                          <div class="form-group"><label for="product-description-input">Description</label><textarea id="product-description-input" required></textarea></div>
                           <div class="admin-card" style="background: rgba(0,0,0,0.5);">
                              <h3 style="margin-top:0; text-align: left;">Manage Variants</h3>
                              <p style="font-size: 0.8rem; color: #aaa; margin-top: -1rem; margin-bottom: 1rem;">Add variants like colors or sizes. Leave price fields blank to use the main product price.</p>
                              <div id="variant-list"></div>
                              <button type="button" id="add-variant-btn" style="padding: 0.5rem 1rem; border-radius: 5px; margin-top: 1rem; border:1px solid var(--cyan); background:transparent; color: var(--cyan); cursor:pointer;">+ Add Variant</button>
                          </div>
                           <div class="form-row" style="margin-top:2rem">
                              <div class="form-group"><label for="product-image">Product Image (Optional)</label><input type="file" id="product-image" accept="image/*"></div>
                              <div class="form-group image-preview-container">
                                  <img id="image-preview" src="" alt="Image Preview" style="display: none;">
                                  <button type="button" id="remove-image-btn" style="display: none;">Remove Current Image</button>
                              </div>
                          </div>
                          <div class="form-actions">
                              <button type="button" id="form-cancel-btn" style="display:none; background: #555;">Cancel</button>
                              <button type="submit" id="form-submit-btn">Add Product</button>
                          </div>
                      </form>
                    </div>
                 </div>

                 <!-- Orders Section -->
                 <div id="admin-section-orders" class="admin-section">
                    <h3>All Orders</h3>
                    <table class="admin-table">
                        <thead><tr><th>Order ID</th><th>Customer</th><th>Product</th><th>Price</th><th>Date</th><th>Status</th></tr></thead>
                        <tbody id="admin-order-list"></tbody>
                    </table>
                 </div>

                 <!-- Webhooks Section -->
                 <div id="admin-section-webhooks" class="admin-section">
                    <div class="admin-card">
                        <h3>Razorpay Webhook Simulation</h3>
                        <p style="color: #ccc; line-height: 1.6;">This tool simulates your backend server's webhook endpoint. In production, Razorpay sends a notification to this endpoint to reliably confirm payments. This is crucial if a customer closes their browser after paying but before returning to your site.</p>
                        <div class="form-group">
                            <label for="webhook-secret">Your Webhook Secret (Keep this on your server)</label>
                            <input type="password" id="webhook-secret" readonly>
                        </div>
                        <div class="form-actions" style="justify-content: flex-start; display:flex;">
                             <button type="button" id="simulate-webhook-btn">Simulate Webhook Event</button>
                        </div>
                        <h4 style="margin-top: 2rem; margin-bottom: 1rem;">Webhook Event Log</h4>
                        <div id="webhook-event-log"><p style="color:#888;">No events yet. Start a payment and use the simulation button.</p></div>
                    </div>
                 </div>
                 
                 <!-- Settings Section -->
                 <div id="admin-section-settings" class="admin-section">
                    <div class="admin-card">
                        <h3>Manage Homepage Promotion</h3>
                        <form id="promotion-form" class="admin-form">
                            <div class="form-group"><label for="promotion-headline-input">Headline</label><input type="text" id="promotion-headline-input" placeholder="e.g., Festival Sale!"></div>
                            <div class="form-group"><label for="promotion-description-input">Description</label><textarea id="promotion-description-input" placeholder="e.g., Get up to 40% off on all products..."></textarea></div>
                            <div class="form-group checkbox-group"><input type="checkbox" id="promotion-active-checkbox"><label for="promotion-active-checkbox">Activate Promotion</label></div>
                            <div class="form-actions"><button type="submit">Save Promotion</button></div>
                        </form>
                    </div>
                    <div class="admin-card">
                        <h3>Change Password</h3>
                        <form id="change-password-form" class="admin-form">
                            <div class="form-group">
                              <label for="old-password">Old Password</label>
                              <input type="password" id="old-password" required>
                            </div>
                            <div class="form-group">
                              <label for="new-password">New Password</label>
                              <input type="password" id="new-password" required>
                            </div>
                            <div class="form-group">
                              <label for="confirm-password">Confirm New Password</label>
                              <input type="password" id="confirm-password" required>
                            </div>
                            <div class="form-actions">
                              <button type="submit">Update Password</button>
                            </div>
                        </form>
                    </div>
                 </div>
              </main>
          </div>
      </div>
  </div>

  <!-- Delivery Details Modal -->
  <div id="delivery-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="delivery-modal-title">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2 id="delivery-modal-title">Delivery Details</h2>
      <div id="product-to-buy-info"></div>
      <form id="delivery-form">
        <div class="form-group"><label for="customer-name">Full Name</label><input type="text" id="customer-name" required></div>
        <div class="form-group"><label for="customer-mobile">Mobile Number</label><input type="tel" id="customer-mobile" required></div>
        <div class="form-group"><label for="customer-email">Email Address</label><input type="email" id="customer-email" required></div>
        <div class="form-group"><label for="customer-address">Full Address</label><textarea id="customer-address" required></textarea></div>
        <div class="form-actions"><button type="submit" id="proceed-to-pay-btn">Proceed to Pay</button></div>
      </form>
    </div>
  </div>

  <!-- Order Success Modal (for search results) -->
  <div id="order-success-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="order-success-modal-title">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div id="order-success-content" style="text-align: center;">
            <svg class="success-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" style="width: 80px; height: 80px; margin: 0 auto 1.5rem;"><circle cx="26" cy="26" r="25" fill="#28a745" /><path fill="none" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M14 27l5 5 16-16"/></svg>
            <h2 id="order-success-modal-title">Order Confirmed!</h2>
            <p>Your payment has been verified and your order is being processed.</p>
            <div class="order-details-summary"></div>
            <div class="tracking-id" style="margin-top:1.5rem;"></div>
        </div>
    </div>
  </div>
  
  <!-- Payment Processing Modal -->
  <div id="payment-processing-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="payment-processing-title">
    <div class="modal-content" style="text-align: center;">
      <h2 id="payment-processing-title">Processing Payment</h2>
      <div class="spinner"></div>
      <p id="payment-status-text" style="color: #ccc; transition: all 0.3s;">Connecting to your bank securely...</p>
    </div>
  </div>

  <!-- Email Confirmation Modal -->
  <div id="email-confirmation-modal" class="modal" role="dialog"aria-modal="true" aria-labelledby="email-confirmation-title">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <div style="text-align:center;">
          <svg class="success-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" style="width: 80px; height: 80px; margin: 0 auto 1.5rem;"><circle cx="26" cy="26" r="25" fill="#28a745" /><path fill="none" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M14 27l5 5 16-16"/></svg>
          <h2 id="email-confirmation-title">Order Confirmed!</h2>
      </div>
      <p style="text-align:center;">Your order has been successfully placed. A confirmation email has been sent to you.</p>
      <div class="email-preview">
          <h4>Email Preview:</h4>
          <div id="email-subject"></div>
          <div id="email-body"></div>
      </div>
    </div>
  </div>

  <!-- Quick View Modal -->
  <div id="quick-view-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="quick-view-modal-title">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2 id="quick-view-modal-title" style="text-align: center; margin-bottom: 1.5rem;">Product Details</h2>
      <div id="quick-view-content">
        <!-- Content will be injected by JS -->
      </div>
      <div class="rating-submission">
          <h4>Rate this product:</h4>
          <div class="rating-input" data-product-id="">
              <span class="star" data-value="1">☆</span>
              <span class="star" data-value="2">☆</span>
              <span class="star" data-value="3">☆</span>
              <span class="star" data-value="4">☆</span>
              <span class="star" data-value="5">☆</span>
          </div>
          <button id="submit-rating-btn" style="display: none;">Submit Rating</button>
      </div>
      <div class="social-share-container">
          <h4>Share this product:</h4>
          <div class="social-share-icons">
              <a href="#" class="share-icon twitter" target="_blank" rel="noopener noreferrer" aria-label="Share on Twitter"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
              <a href="#" class="share-icon facebook" target="_blank" rel="noopener noreferrer" aria-label="Share on Facebook"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/></svg></a>
              <a href="#" class="share-icon whatsapp" target="_blank" rel="noopener noreferrer" aria-label="Share on WhatsApp"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zM9.53 8.5c.21-.24.46-.38.72-.38.29 0 .57.17.79.49.23.31.78 1.18.88 1.36.1.18.17.31.02.49-.15.18-.34.35-.49.49-.18.18-.31.28-.43.43-.12.15-.24.31-.07.59.23.38.68.91 1.22 1.41.74.69 1.41 1.03 1.66 1.13.25.1.41.07.56-.07.2-.23.69-.81.88-1.08.18-.28.36-.23.59-.13.23.1.98.46 1.15.53.17.07.28.1.31.15.04.05.04.53-.18 1.13-.23.6-.53.93-1.01 1.21-.48.28-1.13.43-1.73.28-.6-.15-1.46-.5-2.6-1.56-1.39-1.28-2.3-2.73-2.38-2.88-.08-.15-.68-1.02-.68-1.89 0-.8.43-1.21.61-1.41z"/></svg></a>
              <button class="share-icon copy-link" aria-label="Copy product link"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></button>
          </div>
      </div>
    </div>
  </div>

  <!-- My Orders Modal -->
  <div id="my-orders-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="my-orders-modal-title">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2 id="my-orders-modal-title">My Orders</h2>
        <p>Enter your Tracking ID or Mobile Number to find your orders.</p>
        <form id="order-search-form">
            <div class="form-group">
                <label for="order-search-input">Tracking ID or Mobile</label>
                <input type="search" id="order-search-input" placeholder="e.g., ORD-1001 or 9120...">
            </div>
            <div class="form-actions" style="justify-content:flex-end; display:flex;">
                <button type="submit">Search</button>
            </div>
        </form>
        <div id="order-search-results"></div>
    </div>
  </div>
  
  <!-- Variant Modal (for Admin) -->
  <div id="variant-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="variant-modal-title">
    <div class="modal-content" style="max-width: 400px;">
      <span class="close-btn">&times;</span>
      <h2 id="variant-modal-title">Add Variant</h2>
      <form id="variant-form">
        <input type="hidden" id="variant-id-input">
        <div class="form-group">
          <label for="variant-name-input">Variant Name (e.g., Red, 128GB)</label>
          <input type="text" id="variant-name-input" required>
        </div>
        <div class="form-group">
          <label for="variant-price-input">Variant Price (Optional)</label>
          <input type="text" id="variant-price-input" placeholder="Overrides main price">
        </div>
        <div class="form-group">
          <label for="variant-sale-price-input">Variant Sale Price (Optional)</label>
          <input type="text" id="variant-sale-price-input" placeholder="Overrides sale price">
        </div>
        <div class="form-actions">
          <button type="submit">Save Variant</button>
        </div>
      </form>
    </div>
  </div>


  <!-- Gallery Lightbox -->
  <div id="gallery-lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <a class="lightbox-prev" aria-label="Previous image">&#10094;</a>
    <a class="lightbox-next" aria-label="Next image">&#10095;</a>
    <div class="lightbox-content">
      <div class="lightbox-counter"></div>
      <figure id="lightbox-figure">
        <img id="lightbox-img" src="" alt="Gallery image">
        <figcaption id="lightbox-caption"></figcaption>
      </figure>
    </div>
  </div>


  <script>
    // Simple particle animation for the hero section
    function createParticles() {
        const particlesContainer = document.getElementById('particles-js');
        if (!particlesContainer) return;
        const particleCount = 50;
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.style.position = 'absolute';
            particle.style.background = 'var(--cyan)';
            particle.style.borderRadius = '50%';
            const size = Math.random() * 3;
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.opacity = Math.random();
            const duration = Math.random() * 20 + 10;
            particle.animate([
                { transform: `translateY(0px)` },
                { transform: `translateY(-${window.innerHeight * Math.random()}px)` }
            ], {
                duration: duration * 1000,
                iterations: Infinity,
                direction: 'alternate',
                easing: 'linear',
                delay: -Math.random() * duration * 1000
            });
            particlesContainer.appendChild(particle);
        }
    }


    document.addEventListener('DOMContentLoaded', () => {
        createParticles();

        // --- Common elements & State ---
        const productGrid = document.querySelector('.product-grid');
        let currentProductForPurchase = {};
        let currentCustomerDetails = {};
        let activeDiscountPercent = 0;
        let currentEditingVariants = [];
        let WEBHOOK_SECRET = '';
        
        // --- Hamburger Menu Logic ---
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const navLinks = document.getElementById('nav-links');
        
        hamburgerBtn.addEventListener('click', () => {
            const isExpanded = hamburgerBtn.getAttribute('aria-expanded') === 'true';
            hamburgerBtn.classList.toggle('active');
            navLinks.classList.toggle('active');
            hamburgerBtn.setAttribute('aria-expanded', !isExpanded);
        });
        
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (navLinks.classList.contains('active')) {
                    hamburgerBtn.classList.remove('active');
                    navLinks.classList.remove('active');
                    hamburgerBtn.setAttribute('aria-expanded', 'false');
                }
            });
        });

        // --- Smooth Scrolling for Nav ---
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            if(anchor.id !== 'my-orders-btn') {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            }
        });

        // --- Accordion Logic ---
        const accordionItems = document.querySelectorAll('.accordion-item');
        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            const content = item.querySelector('.accordion-content');

            header.addEventListener('click', () => {
                const isActive = header.classList.contains('active');
                
                document.querySelectorAll('.accordion-header.active').forEach(activeHeader => {
                    if (activeHeader !== header) {
                        activeHeader.classList.remove('active');
                        activeHeader.setAttribute('aria-expanded', 'false');
                        activeHeader.nextElementSibling.style.maxHeight = null;
                    }
                });

                if (isActive) {
                    header.classList.remove('active');
                    header.setAttribute('aria-expanded', 'false');
                    content.style.maxHeight = null;
                } else {
                    header.classList.add('active');
                    header.setAttribute('aria-expanded', 'true');
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });


        // --- Promotion & Discount Logic ---
        const promotionBanner = document.getElementById('promotion-banner');
        const promotionForm = document.getElementById('promotion-form');
        const promotionHeadlineInput = document.getElementById('promotion-headline-input');
        const promotionDescriptionInput = document.getElementById('promotion-description-input');
        const promotionActiveCheckbox = document.getElementById('promotion-active-checkbox');
        
        const extractDiscount = (text) => {
          const match = text.match(/\b(\d{1,3})\s*%/);
          return match ? parseInt(match[1], 10) : 0;
        };

        const updatePromotionBanner = () => {
            const promotionData = JSON.parse(localStorage.getItem('promotionData'));
            if (promotionData && promotionData.isActive) {
                promotionBanner.innerHTML = `
                    <h2>${promotionData.headline}</h2>
                    <p>${promotionData.description}</p>`;
                promotionBanner.style.display = 'block';
                activeDiscountPercent = extractDiscount(promotionData.description);
            } else {
                promotionBanner.style.display = 'none';
                activeDiscountPercent = 0;
            }
            refreshAllProductsUI();
        };
        
        const loadPromotionDataIntoForm = () => {
            const promotionData = JSON.parse(localStorage.getItem('promotionData'));
            if(promotionData) {
                promotionHeadlineInput.value = promotionData.headline || '';
                promotionDescriptionInput.value = promotionData.description || '';
                promotionActiveCheckbox.checked = promotionData.isActive || false;
            }
        };

        promotionForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const promotionData = {
                headline: promotionHeadlineInput.value,
                description: promotionDescriptionInput.value,
                isActive: promotionActiveCheckbox.checked,
            };
            localStorage.setItem('promotionData', JSON.stringify(promotionData));
            updatePromotionBanner();
            alert('Promotion updated!');
        });
        
        // --- Product Variant & Price Rendering Logic ---
        const refreshAllProductsUI = () => {
            document.querySelectorAll('.product-card').forEach(card => {
                renderFrontendVariants(card);
            });
        };
        
        const renderFrontendVariants = (card) => {
            const variantsContainer = card.querySelector('.product-variants');
            if (!variantsContainer) return;
            
            const variantsJson = card.dataset.variants;
            const variants = variantsJson ? JSON.parse(variantsJson) : [];
            
            variantsContainer.innerHTML = '';
            
            if (variants.length > 0) {
                variants.forEach(variant => {
                    const btn = document.createElement('button');
                    btn.className = 'variant-btn';
                    btn.dataset.variantId = variant.id;
                    btn.textContent = variant.name;
                    btn.onclick = () => updateProductDisplay(card, variant.id);
                    variantsContainer.appendChild(btn);
                });
                updateProductDisplay(card, variants[0].id); // Select first variant by default
            } else {
                updateProductDisplay(card, null); // Render with no variants
            }
        };

        const updateProductDisplay = (card, selectedVariantId) => {
            const priceEl = card.querySelector('.product-price');
            const saleBadge = card.querySelector('.sale-badge');
            
            const baseOriginalPriceText = card.querySelector('.product-price').dataset.originalPrice;
            const baseSalePriceText = card.dataset.salePrice;
            const variantsJson = card.dataset.variants;
            const variants = variantsJson ? JSON.parse(variantsJson) : [];
            
            let selectedVariant = null;
            if (selectedVariantId) {
                selectedVariant = variants.find(v => v.id == selectedVariantId);
                // Update active button state
                card.querySelectorAll('.variant-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.variantId == selectedVariantId);
                });
            }

            // Determine final prices
            let originalPriceText = selectedVariant?.price || baseOriginalPriceText;
            let salePriceText = selectedVariant?.salePrice || baseSalePriceText;

            const originalPriceNum = parseFloat(originalPriceText.replace('₹', ''));
            const salePriceNum = salePriceText ? parseFloat(salePriceText.replace('₹', '')) : null;

            let finalPrice = originalPriceNum;
            let discountPercent = 0;
            
            if (salePriceNum && salePriceNum < originalPriceNum) {
                finalPrice = salePriceNum;
                discountPercent = Math.round(((originalPriceNum - finalPrice) / originalPriceNum) * 100);
            } else if (activeDiscountPercent > 0) {
                finalPrice = Math.round(originalPriceNum * (1 - activeDiscountPercent / 100));
                discountPercent = activeDiscountPercent;
            }

            if (discountPercent > 0 && finalPrice < originalPriceNum) {
                priceEl.innerHTML = `<del>${originalPriceText}</del> <ins>₹${finalPrice}</ins>`;
                if(saleBadge) {
                    saleBadge.textContent = `${discountPercent}% OFF`;
                    saleBadge.style.display = 'block';
                }
            } else {
                priceEl.innerHTML = originalPriceText;
                if(saleBadge) saleBadge.style.display = 'none';
            }
        };


        // --- Admin Authentication ---
        const DEFAULT_USER_ID = 'anees0121';
        const DEFAULT_PASSWORD = 'Lovetrust$0121';

        const getCredentials = () => {
            const storedCreds = JSON.parse(localStorage.getItem('adminCredentials'));
            return {
                userId: DEFAULT_USER_ID,
                password: storedCreds ? storedCreds.password : DEFAULT_PASSWORD
            };
        };

        const setCredentials = (newPassword) => {
            localStorage.setItem('adminCredentials', JSON.stringify({ password: newPassword }));
        };

        const loginModal = document.getElementById('login-modal');
        const loginForm = document.getElementById('login-form');
        const loginError = document.getElementById('login-error');
        const adminBtn = document.getElementById('admin-btn');
        const adminModal = document.getElementById('admin-modal');

        adminBtn.onclick = () => { openModal(loginModal); };

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userIdInput = document.getElementById('userid').value;
            const passwordInput = document.getElementById('password').value;
            const creds = getCredentials();

            if (userIdInput === creds.userId && passwordInput === creds.password) {
                closeModal(loginModal);
                loginForm.reset();
                loginError.style.display = 'none';
                openModal(adminModal);
                renderAdminProducts();
                renderAdminOrders();
                loadPromotionDataIntoForm();
                setupWebhookTab();
                resetAdminForm();
            } else {
                loginError.textContent = 'Invalid User ID or Password.';
                loginError.style.display = 'block';
            }
        });

        // --- Admin Panel Logic ---
        const adminProductList = document.getElementById('admin-product-list');
        const productForm = document.getElementById('product-form');
        const formTitle = document.getElementById('form-title');
        const formSubmitBtn = document.getElementById('form-submit-btn');
        const formCancelBtn = document.getElementById('form-cancel-btn');
        const productIdInput = document.getElementById('product-id');
        const productNameInput = document.getElementById('product-name');
        const productPriceInput = document.getElementById('product-price');
        const productSalePriceInput = document.getElementById('product-sale-price');
        const productDescriptionInput = document.getElementById('product-description-input');
        const productImageInput = document.getElementById('product-image');
        const imagePreview = document.getElementById('image-preview');
        const removeImageBtn = document.getElementById('remove-image-btn');
        const removeImageFlag = document.getElementById('remove-image-flag');

        let nextId = 7; 
        
        document.querySelector('.admin-sidebar').addEventListener('click', (e) => {
            const navButton = e.target.closest('.admin-nav-btn');
            if (navButton) {
                const tabId = navButton.dataset.tab;
                document.querySelectorAll('.admin-sidebar .admin-nav-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.admin-section').forEach(content => content.classList.remove('active'));
                
                navButton.classList.add('active');
                const activeContent = document.getElementById(`admin-section-${tabId}`);
                if (activeContent) {
                   activeContent.classList.add('active');
                   if (tabId === 'orders') renderAdminOrders();
                }
            }
        });
        
        const changePasswordForm = document.getElementById('change-password-form');
        changePasswordForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const oldPassword = document.getElementById('old-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const creds = getCredentials();

            if (oldPassword !== creds.password) {
                alert('Old password is not correct.'); return;
            }
            if (newPassword !== confirmPassword) {
                alert('New passwords do not match.'); return;
            }
            if (newPassword.length < 8) {
                alert('New password must be at least 8 characters long.'); return;
            }
            setCredentials(newPassword);
            alert('Password updated successfully!');
            changePasswordForm.reset();
        });

        const renderAdminProducts = () => {
            adminProductList.innerHTML = ''; 
            productGrid.querySelectorAll('.product-card').forEach(card => {
                const id = card.dataset.id;
                const name = card.querySelector('h3').textContent;
                const priceEl = card.querySelector('.product-price');
                const price = priceEl.dataset.originalPrice || priceEl.textContent;
                const salePrice = card.dataset.salePrice;
                const description = card.querySelector('.product-description').textContent;
                const imageEl = card.querySelector('.img-container img');
                const imgSrc = imageEl ? imageEl.src : '';
                
                const priceHTML = salePrice ? `<del>${price}</del> <ins>${salePrice}</ins>` : price;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td data-label="Image">${imgSrc ? `<img src="${imgSrc}" alt="${name}" loading="lazy">` : 'No Image'}</td>
                    <td data-label="Name">${name}</td>
                    <td data-label="Description" class="product-description-cell" title="${description}">${description}</td>
                    <td data-label="Price">${priceHTML}</td>
                    <td data-label="Actions">
                        <button class="edit-btn" data-id="${id}">Edit</button>
                        <button class="delete-btn" data-id="${id}">Delete</button>
                    </td>
                `;
                adminProductList.appendChild(row);
            });
        };
        
        const renderAdminOrders = () => {
            const orderList = document.getElementById('admin-order-list');
            const allOrders = JSON.parse(localStorage.getItem('sparkxOrders')) || [];
            orderList.innerHTML = '';
            
             const getStatusBadge = (status) => {
                const statusClass = `status-${status.toLowerCase().replace(' ', '_')}`;
                return `<span class="status-badge ${statusClass}">${status.replace('_', ' ')}</span>`;
             };

            if (allOrders.length === 0) {
                orderList.innerHTML = `<tr><td colspan="6" style="text-align:center; color: #aaa;">No orders have been placed yet.</td></tr>`;
                return;
            }

            allOrders.sort((a, b) => new Date(b.date) - new Date(a.date)); // Sort by most recent

            allOrders.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td data-label="Order ID">${order.orderId.replace('order_mock_', '')}</td>
                    <td data-label="Customer">${order.customer.name}</td>
                    <td data-label="Product">${order.product.name}</td>
                    <td data-label="Price">${order.product.price}</td>
                    <td data-label="Date">${order.date}</td>
                    <td data-label="Status">${getStatusBadge(order.status)}</td>
                `;
                orderList.appendChild(row);
            });
        };

        productForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const id = productIdInput.value;
            const name = productNameInput.value;
            const price = productPriceInput.value;
            const salePrice = productSalePriceInput.value;
            const description = productDescriptionInput.value;
            const imageFile = productImageInput.files[0];

            const processProductUpdate = (imgSrc = null) => {
                 let cardToUpdate;
                 if (id) { // Editing
                    cardToUpdate = productGrid.querySelector(`.product-card[data-id="${id}"]`);
                    if (cardToUpdate) {
                        cardToUpdate.querySelector('h3').textContent = name;
                        const priceEl = cardToUpdate.querySelector('.product-price');
                        priceEl.textContent = price;
                        priceEl.dataset.originalPrice = price;
                        if (salePrice) cardToUpdate.dataset.salePrice = salePrice;
                        else cardToUpdate.removeAttribute('data-sale-price');
                        cardToUpdate.querySelector('.product-description').textContent = description;
                        
                        cardToUpdate.dataset.variants = JSON.stringify(currentEditingVariants);

                        const imgContainer = cardToUpdate.querySelector('.img-container');
                        if (removeImageFlag.value === 'true') imgContainer.innerHTML = 'No Image';
                        else if (imgSrc) imgContainer.innerHTML = `<img src="${imgSrc}" alt="${name}" loading="lazy">`;
                    }
                } else { // Adding
                    const newId = nextId++;
                    const newCard = document.createElement('div');
                    newCard.className = 'product-card';
                    newCard.dataset.id = newId;
                    newCard.id = `product-${newId}`;
                    if (salePrice) newCard.dataset.salePrice = salePrice;
                    newCard.dataset.variants = JSON.stringify(currentEditingVariants);
                    newCard.innerHTML = `
                        <div class="sale-badge" style="display: none;">Sale</div>
                        <div class="img-container">${imgSrc ? `<img src="${imgSrc}" alt="${name}" loading="lazy">` : 'No Image'}</div>
                        <div class="product-details">
                            <h3>${name}</h3>
                            <p class="product-price" data-original-price="${price}">${price}</p>
                            <div class="star-rating"></div>
                            <div class="product-variants"></div>
                            <p class="product-description">${description}</p>
                        </div>
                        <div class="product-actions"><button class="quick-view-btn">Quick View</button><button class="buy-now-btn">Buy Now</button></div>`;
                    productGrid.appendChild(newCard);
                    cardToUpdate = newCard;
                    renderStarRating(newCard.querySelector('.star-rating'), newId);
                    addCardHoverEffect(newCard);
                }
                
                renderFrontendVariants(cardToUpdate);
                renderAdminProducts();
                resetAdminForm();
            };

            if (imageFile) {
                const reader = new FileReader();
                reader.onload = (event) => { processProductUpdate(event.target.result); };
                reader.readAsDataURL(imageFile);
            } else {
                 const card = productGrid.querySelector(`.product-card[data-id="${id}"]`);
                 const existingImgSrc = card ? card.querySelector('.img-container img')?.src : null;
                 processProductUpdate(existingImgSrc);
            }
        });

        adminProductList.addEventListener('click', (e) => {
            const id = e.target.dataset.id;
            if (e.target.classList.contains('delete-btn')) {
                if (confirm('Are you sure you want to delete this product?')) {
                    productGrid.querySelector(`.product-card[data-id="${id}"]`)?.remove();
                    renderAdminProducts();
                }
            }
            if (e.target.classList.contains('edit-btn')) {
                const card = productGrid.querySelector(`.product-card[data-id="${id}"]`);
                if (card) {
                    productIdInput.value = id;
                    productNameInput.value = card.querySelector('h3').textContent;
                    const priceEl = card.querySelector('.product-price');
                    productPriceInput.value = priceEl.dataset.originalPrice || priceEl.textContent;
                    productSalePriceInput.value = card.dataset.salePrice || '';
                    productDescriptionInput.value = card.querySelector('.product-description').textContent;
                    
                    const variantsJson = card.dataset.variants;
                    currentEditingVariants = variantsJson ? JSON.parse(variantsJson) : [];
                    renderAdminVariantList();
                    
                    const imageEl = card.querySelector('.img-container img');
                    const imageLabel = document.querySelector('label[for="product-image"]');
                    
                    if (imageEl) {
                        imagePreview.src = imageEl.src;
                        imagePreview.style.display = 'block';
                        removeImageBtn.style.display = 'inline-block';
                        imageLabel.textContent = 'Replace Current Image (Optional)';
                    } else {
                         imagePreview.style.display = 'none';
                         removeImageBtn.style.display = 'none';
                         imageLabel.textContent = 'Add Product Image (Optional)';
                    }
                    removeImageBtn.textContent = 'Remove Current Image';


                    formTitle.textContent = 'Edit Product';
                    formSubmitBtn.textContent = 'Save Changes';
                    formCancelBtn.style.display = 'inline-block';
                    
                    document.querySelector('.admin-main-content').scrollTop = document.querySelector('.admin-main-content').scrollHeight;
                }
            }
        });
        
        productImageInput.addEventListener('change', () => {
            if (productImageInput.files && productImageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    imagePreview.style.display = 'block';
                    removeImageBtn.style.display = 'inline-block';
                    removeImageFlag.value = 'false';
                };
                reader.readAsDataURL(productImageInput.files[0]);
            }
        });
        
        removeImageBtn.onclick = () => {
            productImageInput.value = '';
            imagePreview.src = '';
            imagePreview.style.display = 'none';
            removeImageBtn.style.display = 'none';
            removeImageFlag.value = 'true';
        };
        
        formCancelBtn.onclick = () => { resetAdminForm(); };

        const resetAdminForm = () => {
            productForm.reset();
            productIdInput.value = '';
            imagePreview.src = '';
            imagePreview.style.display = 'none';
            removeImageBtn.style.display = 'none';
            removeImageFlag.value = 'false';
            document.querySelector('label[for="product-image"]').textContent = 'Product Image (Optional)';
            removeImageBtn.textContent = 'Remove Image';
            formTitle.textContent = 'Add New Product';
            formSubmitBtn.textContent = 'Add Product';
            formCancelBtn.style.display = 'none';
            currentEditingVariants = [];
            renderAdminVariantList();
        };
        
        // --- Admin Panel Variant Management ---
        const variantModal = document.getElementById('variant-modal');
        const variantForm = document.getElementById('variant-form');
        const variantIdInput = document.getElementById('variant-id-input');
        const variantNameInput = document.getElementById('variant-name-input');
        const variantPriceInput = document.getElementById('variant-price-input');
        const variantSalePriceInput = document.getElementById('variant-sale-price-input');
        
        document.getElementById('add-variant-btn').onclick = () => {
            variantForm.reset();
            variantIdInput.value = '';
            variantModal.querySelector('h2').textContent = 'Add Variant';
            openModal(variantModal);
        };
        
        variantForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const variantId = variantIdInput.value;
            const newVariant = {
                id: variantId ? variantId : Date.now(),
                name: variantNameInput.value,
                price: variantPriceInput.value,
                salePrice: variantSalePriceInput.value,
            };
            
            if (variantId) { // Editing
                const index = currentEditingVariants.findIndex(v => v.id == variantId);
                if (index > -1) currentEditingVariants[index] = newVariant;
            } else { // Adding
                currentEditingVariants.push(newVariant);
            }
            renderAdminVariantList();
            closeModal(variantModal);
        });

        const renderAdminVariantList = () => {
            const listEl = document.getElementById('variant-list');
            listEl.innerHTML = '';
            currentEditingVariants.forEach(variant => {
                const item = document.createElement('div');
                item.className = 'variant-item';
                item.innerHTML = `
                    <span>${variant.name}</span>
                    <span>${variant.salePrice ? `<del>${variant.price}</del> <ins>${variant.salePrice}</ins>` : variant.price || 'Uses main price'}</span>
                    <div>
                        <button type="button" class="edit-variant-btn" data-id="${variant.id}">Edit</button>
                        <button type="button" class="delete-variant-btn" data-id="${variant.id}" style="background:#dc3545; border-color:#dc3545; color:white;">Del</button>
                    </div>
                `;
                listEl.appendChild(item);
            });
        };
        
        document.getElementById('variant-list').addEventListener('click', (e) => {
            const variantId = e.target.dataset.id;
            if (!variantId) return;
            
            if (e.target.classList.contains('edit-variant-btn')) {
                const variant = currentEditingVariants.find(v => v.id == variantId);
                if (variant) {
                    variantForm.reset();
                    variantIdInput.value = variant.id;
                    variantNameInput.value = variant.name;
                    variantPriceInput.value = variant.price;
                    variantSalePriceInput.value = variant.salePrice;
                    variantModal.querySelector('h2').textContent = 'Edit Variant';
                    openModal(variantModal);
                }
            }
            
            if (e.target.classList.contains('delete-variant-btn')) {
                if (confirm('Delete this variant?')) {
                    currentEditingVariants = currentEditingVariants.filter(v => v.id != variantId);
                    renderAdminVariantList();
                }
            }
        });

        
        function addCardHoverEffect(card) {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const { width, height } = rect;
                const rotateX = (y / height - 0.5) * -15;
                const rotateY = (x / width - 0.5) * 15;
                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'rotateX(0) rotateY(0) scale(1)';
            });
        }
        document.querySelectorAll('.product-card').forEach(addCardHoverEffect);

        // --- Accessible Modal Logic with Focus Trap ---
        const allModals = document.querySelectorAll('.modal');
        let lastFocusedElement;
        let currentModal = null;
        
        const trapFocus = (e) => {
            if (!currentModal || e.key !== 'Tab') return;
            
            const focusableElements = currentModal.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            if (focusableElements.length === 0) return;

            const firstFocusable = focusableElements[0];
            const lastFocusable = focusableElements[focusableElements.length - 1];

            if (e.shiftKey) { // Shift + Tab
                if (document.activeElement === firstFocusable) {
                    lastFocusable.focus();
                    e.preventDefault();
                }
            } else { // Tab
                if (document.activeElement === lastFocusable) {
                    firstFocusable.focus();
                    e.preventDefault();
                }
            }
        };

        function openModal(modal) {
            lastFocusedElement = document.activeElement;
            currentModal = modal;
            modal.style.display = 'flex';
            document.body.classList.add('modal-open');
            document.addEventListener('keydown', trapFocus);
            
            const firstFocusable = modal.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            if (firstFocusable) {
                firstFocusable.focus();
            }
        }

        function closeModal(modal) {
            modal.style.display = 'none';
            document.removeEventListener('keydown', trapFocus);
            
            // Check if closing modal is the current one
            if (currentModal === modal) {
                 currentModal = null;
            }

            const isAnyModalOpen = Array.from(allModals).some(m => m.style.display === 'flex');
            if (!isAnyModalOpen) {
                 document.body.classList.remove('modal-open');
            }
            if (lastFocusedElement) {
                lastFocusedElement.focus();
            }
        }
        
        allModals.forEach(modal => {
            const closeBtn = modal.querySelector('.close-btn');
            if (closeBtn) closeBtn.onclick = () => closeModal(modal);
        });
        
        window.onclick = (event) => {
            allModals.forEach(modal => {
                if (event.target == modal) closeModal(modal);
            });
        };

        const deliveryModal = document.getElementById('delivery-modal');
        const quickViewModal = document.getElementById('quick-view-modal');
        const deliveryForm = document.getElementById('delivery-form');
        
        productGrid.addEventListener('click', (e) => {
            const card = e.target.closest('.product-card');
            if (!card) return;

            const productId = card.dataset.id;
            const baseName = card.querySelector('h3').textContent;
            const priceEl = card.querySelector('.product-price');
            const finalPriceText = priceEl.querySelector('ins')?.textContent || priceEl.textContent;
            const description = card.querySelector('.product-description').textContent;
            const imageSrc = card.querySelector('.img-container img')?.src;
            
            let finalName = baseName;
            const activeVariantBtn = card.querySelector('.variant-btn.active');
            if (activeVariantBtn) {
                finalName = `${baseName} (${activeVariantBtn.textContent})`;
            }

            if (e.target.classList.contains('buy-now-btn')) {
                currentProductForPurchase = { name: finalName, price: finalPriceText, description, imageSrc };
                document.getElementById('product-to-buy-info').innerHTML = `<h3>${finalName}</h3><p class="price">${finalPriceText}</p>`;
                openModal(deliveryModal);
            }
            if (e.target.classList.contains('quick-view-btn')) {
                 const quickViewContent = document.getElementById('quick-view-content');
                 quickViewContent.innerHTML = `
                    ${imageSrc ? `<img src="${imageSrc}" id="quick-view-img" alt="${baseName}" loading="lazy">` : ''}
                    <h3>${baseName}</h3>
                    <div class="price">${priceEl.innerHTML}</div>
                    <div class="product-variants"></div>
                    <p class="description" style="margin-top:1rem">${description}</p>`;
                
                const qvCard = quickViewContent.parentElement;
                qvCard.dataset.variants = card.dataset.variants;
                qvCard.dataset.salePrice = card.dataset.salePrice;
                qvCard.querySelector('.price').dataset.originalPrice = priceEl.dataset.originalPrice;
                
                renderFrontendVariants(qvCard);
                
                const ratingInput = quickViewModal.querySelector('.rating-input');
                ratingInput.dataset.productId = productId;
                resetRatingInput();
                openModal(quickViewModal);

                // Social Share Logic
                const productUrl = `${window.location.origin}${window.location.pathname}#product-${productId}`;
                const shareText = `Check out this product from SparkX Electronics: ${baseName}`;
                const encodedUrl = encodeURIComponent(productUrl);
                const encodedText = encodeURIComponent(shareText);

                const twitterLink = quickViewModal.querySelector('.share-icon.twitter');
                const facebookLink = quickViewModal.querySelector('.share-icon.facebook');
                const whatsappLink = quickViewModal.querySelector('.share-icon.whatsapp');
                const copyLinkBtn = quickViewModal.querySelector('.share-icon.copy-link');
                
                twitterLink.href = `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedText}&hashtags=SparkXElectronics`;
                facebookLink.href = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`;
                whatsappLink.href = `https://api.whatsapp.com/send?text=${encodedText}%20${encodedUrl}`;
                
                const originalCopyBtnContent = copyLinkBtn.innerHTML;
                copyLinkBtn.onclick = () => {
                    navigator.clipboard.writeText(productUrl).then(() => {
                        copyLinkBtn.innerHTML = `✓`; // Simple checkmark for feedback
                        setTimeout(() => {
                            copyLinkBtn.innerHTML = originalCopyBtnContent;
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                        alert('Failed to copy link.');
                    });
                };
            }
        });
        
        // --- Payment & Webhook Integration Logic (Simulated Backend) ---

        const createOrderOnServer = (amount, currency) => {
            console.log("Simulating: Creating order on server...");
            return new Promise((resolve) => {
                setTimeout(() => {
                    const mockOrder = {
                        order_id: `order_mock_${Date.now()}`,
                        key_id: 'rzp_test_ILzaVlvl3T4d3p' 
                    };
                    console.log("Simulating: Order created on server", mockOrder);
                    resolve(mockOrder);
                }, 1000);
            });
        };

        const verifyPaymentOnServer = (paymentData) => {
            console.log("Simulating: Verifying payment on server...", paymentData);
            return new Promise((resolve) => {
                setTimeout(() => {
                    const isAuthentic = true;
                    console.log("Simulating: Payment verification result:", isAuthentic);
                    resolve({ status: isAuthentic ? 'success' : 'failure' });
                }, 1500);
            });
        };

        const finalizeOrder = (orderId, paymentId) => {
            const allOrders = JSON.parse(localStorage.getItem('sparkxOrders')) || [];
            const orderIndex = allOrders.findIndex(o => o.orderId === orderId);

            if (orderIndex === -1) {
                console.error("Could not find order to finalize:", orderId);
                return;
            }
            
            const order = allOrders[orderIndex];
            
            // Prevent re-finalizing an already confirmed order
            if(order.status === 'confirmed') return; 

            order.paymentId = paymentId;
            order.status = 'confirmed';

            let ordCounter = parseInt(localStorage.getItem('sparkxOrdCounter') || '1000');
            ordCounter++;
            order.trackingId = `ORD-${ordCounter}`;
            localStorage.setItem('sparkxOrdCounter', ordCounter);

            allOrders[orderIndex] = order;
            localStorage.setItem('sparkxOrders', JSON.stringify(allOrders));

            return order; // Return the finalized order
        };
        
        const handlePaymentFlow = async () => {
            const processingModal = document.getElementById('payment-processing-modal');
            const statusText = document.getElementById('payment-status-text');

            try {
                // Step 1: Show processing modal and create order on server
                statusText.textContent = 'Initiating secure payment...';
                openModal(processingModal);
                const amountInPaise = parseFloat(currentProductForPurchase.price.replace(/[^0-9.]/g, '')) * 100;
                const { order_id, key_id } = await createOrderOnServer(amountInPaise, 'INR');

                // Step 2: Create a PENDING order in our system BEFORE opening Razorpay
                const pendingOrder = {
                    orderId: order_id,
                    paymentId: null, // Not yet available
                    product: currentProductForPurchase,
                    customer: currentCustomerDetails,
                    status: 'pending_razorpay',
                    trackingId: null,
                    date: new Date().toLocaleString()
                };
                const orders = JSON.parse(localStorage.getItem('sparkxOrders')) || [];
                orders.push(pendingOrder);
                localStorage.setItem('sparkxOrders', JSON.stringify(orders));


                // Step 3: Configure and open Razorpay Checkout
                const options = {
                    key: key_id,
                    amount: amountInPaise,
                    currency: 'INR',
                    name: 'SparkX Electronics',
                    description: `Purchase of ${currentProductForPurchase.name}`,
                    order_id: order_id,
                    handler: async function (response) {
                        // Step 4: Handle successful payment and verify on server
                        statusText.textContent = 'Verifying payment...';
                        openModal(processingModal);
                        
                        try {
                            const verificationResponse = await verifyPaymentOnServer({
                                razorpay_order_id: response.razorpay_order_id,
                                razorpay_payment_id: response.razorpay_payment_id,
                                razorpay_signature: response.razorpay_signature,
                            });

                            if (verificationResponse.status === 'success') {
                                // Step 5: Finalize the order (update status to 'confirmed')
                                const finalizedOrder = finalizeOrder(response.razorpay_order_id, response.razorpay_payment_id);
                                closeModal(processingModal);
                                
                                // Step 6: Show confirmation
                                const emailModal = document.getElementById('email-confirmation-modal');
                                const emailSubject = document.getElementById('email-subject');
                                const emailBody = document.getElementById('email-body');

                                emailSubject.textContent = `Subject: Order Confirmation – ${finalizedOrder.trackingId}`;
                                emailBody.textContent = 
`Hello ${finalizedOrder.customer.name},

Thank you for your payment. Your order has been successfully received.
Payment ID: ${finalizedOrder.paymentId}
Tracking Number: ${finalizedOrder.trackingId}

We will update you once your order is shipped.

Best Regards,
SparkX Electronics`;
                                openModal(emailModal);
                            } else {
                                throw new Error('Payment verification failed.');
                            }
                        } catch (error) {
                            console.error("Verification failed:", error);
                            alert('Payment verification failed. Please contact support.');
                            closeModal(processingModal);
                        }
                    },
                    prefill: { name: currentCustomerDetails.name, email: currentCustomerDetails.email, contact: currentCustomerDetails.mobile },
                    notes: { address: currentCustomerDetails.address },
                    theme: { color: '#00FFFF' },
                };

                closeModal(processingModal);
                
                const paymentObject = new window.Razorpay(options);
                paymentObject.on('payment.failed', function (response) {
                    alert(`Payment failed: ${response.error.description}`);
                    console.error('Payment Failed:', response.error);
                    closeModal(processingModal);
                });
                paymentObject.open();

            } catch (error) {
                console.error("Payment flow error:", error);
                alert('An error occurred while initiating the payment. Please try again.');
                closeModal(processingModal);
            }
        };
        
        deliveryForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('customer-name').value;
            const mobile = document.getElementById('customer-mobile').value;
            const address = document.getElementById('customer-address').value;
            const email = document.getElementById('customer-email').value;

            if (name && mobile && address && email) {
                currentCustomerDetails = { name, mobile, address, email };
                closeModal(deliveryModal);
                deliveryForm.reset();
                handlePaymentFlow();
            } else {
                alert('Please fill in all delivery details.');
            }
        });
        
        const myOrdersModal = document.getElementById('my-orders-modal');
        const orderSuccessModal = document.getElementById('order-success-modal');

        document.getElementById('my-orders-btn').onclick = (e) => {
            e.preventDefault();
            document.getElementById('order-search-results').innerHTML = '';
            document.getElementById('order-search-form').reset();
            openModal(myOrdersModal);
        };

        document.getElementById('order-search-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const searchTerm = document.getElementById('order-search-input').value.trim();
            const resultsContainer = document.getElementById('order-search-results');
            if (!searchTerm) return;
            
            const allOrders = JSON.parse(localStorage.getItem('sparkxOrders')) || [];
            const foundOrders = allOrders.filter(order => 
                (order.trackingId && order.trackingId.toUpperCase() === searchTerm.toUpperCase()) || 
                (order.customer.mobile === searchTerm.replace(/\s/g, ''))
            );
            
            resultsContainer.innerHTML = ''; // Clear previous results

            const getStatusBadge = (status) => {
                if (status === 'confirmed') return `<span class="status-badge status-confirmed">Confirmed</span>`;
                if (status === 'rejected') return `<span class="status-badge status-rejected">Rejected</span>`;
                return `<span class="status-badge status-pending_razorpay">Pending Razorpay</span>`;
            };

            if (foundOrders.length > 0) {
                resultsContainer.innerHTML = foundOrders.map(order => `
                    <div class="order-result-card">
                        <div class="order-result-header">
                            <div><strong>Order Date:</strong> ${order.date}</div>
                            ${getStatusBadge(order.status)}
                        </div>
                        <div class="order-result-body">
                           <div class="summary-item"><span class="summary-label">Product:</span><span class="summary-value">${order.product.name}</span></div>
                           <div class="summary-item"><span class="summary-label">Price:</span><span class="summary-value">${order.product.price}</span></div>
                           <div class="summary-item"><span class="summary-label">Deliver To:</span><span class="summary-value">${order.customer.name}</span></div>
                           ${order.status === 'confirmed' ? `<div class="summary-item"><span class="summary-label">Tracking ID:</span><span class="summary-value">${order.trackingId}</span></div>` : ''}
                        </div>
                    </div>`).join('');
            } else {
                resultsContainer.innerHTML = `<p style="text-align:center;">No orders found for "${searchTerm}".</p>`;
            }
        });
        
        const getRatings = () => JSON.parse(localStorage.getItem('productRatings')) || {};
        const saveRatings = (ratings) => localStorage.setItem('productRatings', JSON.stringify(ratings));

        const addRating = (productId, rating) => {
            const ratings = getRatings();
            if (!ratings[productId]) ratings[productId] = [];
            ratings[productId].push(rating);
            saveRatings(ratings);
        };

        const renderStarRating = (container, productId) => {
            if (!container) return;
            const ratings = getRatings();
            const productRatings = ratings[productId] || [];
            const count = productRatings.length;
            const average = count > 0 ? (productRatings.reduce((a, b) => a + b, 0) / count) : 0;
            const averageRounded = Math.round(average * 2) / 2;

            let starsHtml = '';
            for (let i = 1; i <= 5; i++) {
                starsHtml += `<span class="star${i <= averageRounded ? ' filled' : ''}">★</span>`;
            }
            
            const countText = count > 0 ? `(${count} ${count > 1 ? 'ratings' : 'rating'})` : '(No ratings yet)';
            container.innerHTML = `${starsHtml} <span class="rating-count">${countText}</span>`;
        };
        
        document.querySelectorAll('.product-card').forEach(card => {
            const ratingContainer = card.querySelector('.star-rating');
            const productId = card.dataset.id;
            renderStarRating(ratingContainer, productId);
        });
        
        const ratingInputContainer = quickViewModal.querySelector('.rating-input');
        const submitRatingBtn = document.getElementById('submit-rating-btn');
        let selectedRating = 0;
        
        const updateInputStars = (ratingValue) => {
            const stars = ratingInputContainer.querySelectorAll('.star');
            stars.forEach(star => {
                star.style.color = star.dataset.value <= ratingValue ? '#ffc107' : '#888';
            });
        };

        const resetRatingInput = () => {
            selectedRating = 0;
            updateInputStars(0);
            submitRatingBtn.style.display = 'none';
        }

        ratingInputContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('star')) {
                selectedRating = parseInt(e.target.dataset.value);
                updateInputStars(selectedRating);
                submitRatingBtn.style.display = 'inline-block';
            }
        });

        ratingInputContainer.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('star')) {
                updateInputStars(parseInt(e.target.dataset.value));
            }
        });

        ratingInputContainer.addEventListener('mouseout', () => {
            updateInputStars(selectedRating);
        });
        
        submitRatingBtn.addEventListener('click', () => {
            const productId = ratingInputContainer.dataset.productId;
            if (productId && selectedRating > 0) {
                addRating(productId, selectedRating);
                const mainCard = document.querySelector(`.product-card[data-id="${productId}"]`);
                if(mainCard) {
                    renderStarRating(mainCard.querySelector('.star-rating'), productId);
                }
                alert(`Thank you for your ${selectedRating}-star rating!`);
                resetRatingInput();
                closeModal(quickViewModal);
            }
        });
        
        // --- Gallery Lightbox Logic ---
        const lightbox = document.getElementById('gallery-lightbox');
        if (lightbox) {
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const galleryItems = document.querySelectorAll('.gallery-item');
            const galleryData = Array.from(galleryItems).map(item => ({
                src: item.querySelector('img').src,
                caption: item.dataset.caption || ''
            }));
            let currentImageIndex = 0;

            const showImage = (index) => {
                currentImageIndex = (index + galleryData.length) % galleryData.length;
                const currentItem = galleryData[currentImageIndex];
                lightboxImg.src = currentItem.src;
                lightboxCaption.textContent = currentItem.caption;
                
                lightboxCaption.style.animation = 'none';
                lightboxCaption.offsetHeight; /* trigger reflow */
                lightboxCaption.style.animation = '';

                lightbox.querySelector('.lightbox-counter').textContent = `${currentImageIndex + 1} / ${galleryData.length}`;
            };

            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    lightbox.style.display = 'flex';
                    document.body.classList.add('modal-open');
                    showImage(index);
                });
            });

            const closeLightbox = () => {
                lightbox.style.display = 'none';
                document.body.classList.remove('modal-open');
            };

            lightbox.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
            lightbox.querySelector('.lightbox-prev').addEventListener('click', () => showImage(currentImageIndex - 1));
            lightbox.querySelector('.lightbox-next').addEventListener('click', () => showImage(currentImageIndex + 1));
            
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox || e.target.id === 'lightbox-figure') {
                     closeLightbox();
                }
            });
            
            document.addEventListener('keydown', (e) => {
                if (lightbox.style.display === 'flex') {
                    if (e.key === 'ArrowRight') showImage(currentImageIndex + 1);
                    else if (e.key === 'ArrowLeft') showImage(currentImageIndex - 1);
                    else if (e.key === 'Escape') closeLightbox();
                }
            });
        }
        
        // --- Webhook Simulation Logic ---
        const webhookLog = document.getElementById('webhook-event-log');
        
        const setupWebhookTab = () => {
            let secret = localStorage.getItem('webhookSecret');
            if (!secret) {
                secret = `whsec_mock_${Date.now()}${Math.random().toString(36).substring(2)}`;
                localStorage.setItem('webhookSecret', secret);
            }
            WEBHOOK_SECRET = secret;
            document.getElementById('webhook-secret').value = WEBHOOK_SECRET;
        };
        
        // This is a simplified, insecure HASH just for simulation.
        // A real backend MUST use crypto.createHmac('sha256', secret).
        const generateMockWebhookSignature = (payload, secret) => {
            const payloadString = JSON.stringify(payload);
            let hash = 0;
            const combined = payloadString + secret;
            for (let i = 0; i < combined.length; i++) {
                const char = combined.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; 
            }
            return `sha256=${Math.abs(hash).toString(16)}`;
        };
        
        const logToWebhookConsole = (message, type = 'info') => {
             if (webhookLog.innerHTML.includes('No events yet')) {
                 webhookLog.innerHTML = '';
             }
             const entry = document.createElement('div');
             entry.className = `log-entry ${type}`;
             entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
             webhookLog.prepend(entry);
        };

        // This function simulates the server-side webhook endpoint.
        const handleWebhookEvent = (payload, signature) => {
            logToWebhookConsole(`Received webhook for event: ${payload.event}`);
            
            const expectedSignature = generateMockWebhookSignature(payload, WEBHOOK_SECRET);
            
            if (signature !== expectedSignature) {
                logToWebhookConsole('Signature verification FAILED. Discarding event.', 'error');
                return;
            }

            logToWebhookConsole('Signature verified successfully.', 'success');
            
            if (payload.event === 'payment.captured') {
                const orderId = payload.payload.payment.entity.order_id;
                const paymentId = payload.payload.payment.entity.id;
                logToWebhookConsole(`Payment captured for order ${orderId}.`);
                
                const finalizedOrder = finalizeOrder(orderId, paymentId);
                if (finalizedOrder) {
                    logToWebhookConsole(`Order ${orderId} status updated to 'confirmed'. Tracking ID: ${finalizedOrder.trackingId}`, 'success');
                    alert(`Webhook Success: Order ${finalizedOrder.trackingId} has been confirmed.`);
                    renderAdminOrders(); // Refresh the orders view if it's open
                } else {
                    logToWebhookConsole(`Could not find order ${orderId} to update.`, 'error');
                }
            }
        };
        
        document.getElementById('simulate-webhook-btn').addEventListener('click', () => {
            const allOrders = JSON.parse(localStorage.getItem('sparkxOrders')) || [];
            const pendingOrder = allOrders.find(o => o.status === 'pending_razorpay');
            
            if (!pendingOrder) {
                alert('No pending Razorpay orders found to simulate an event for. Please start a new payment and close the Razorpay modal to create one.');
                return;
            }
            
            logToWebhookConsole(`Simulating 'payment.captured' event for order: ${pendingOrder.orderId}`);
            
            const mockPayload = {
                event: 'payment.captured',
                payload: {
                    payment: {
                        entity: {
                            id: `pay_mock_${Date.now()}`,
                            order_id: pendingOrder.orderId,
                            amount: parseFloat(pendingOrder.product.price.replace(/[^0-9.]/g, '')) * 100,
                            currency: 'INR'
                        }
                    }
                }
            };
            
            const mockSignature = generateMockWebhookSignature(mockPayload, WEBHOOK_SECRET);
            
            handleWebhookEvent(mockPayload, mockSignature);
        });


        // --- Initial Page Load Actions ---
        updatePromotionBanner(); // This will apply discounts & variants on page load
        
        // --- Scroll Animation Logic ---
        const scrollObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        });

        // Animate section headers
        document.querySelectorAll('.services h2, .about-us h2, .products h2, .testimonials h2, .gallery h2').forEach(header => {
            header.classList.add('reveal-on-scroll');
            scrollObserver.observe(header);
        });

        // Animate grid/list items with a staggered delay per container
        const containersToAnimate = document.querySelectorAll('.accordion-container, .about-us, .product-grid, .testimonial-grid, .gallery-grid');
        containersToAnimate.forEach(container => {
            const items = container.querySelectorAll('.accordion-item, .about-item, .product-card, .testimonial-card, .gallery-item');
            items.forEach((item, index) => {
                item.classList.add('reveal-on-scroll');
                item.style.transitionDelay = `${index * 100}ms`; 
                scrollObserver.observe(item);
            });
        });
    });
  </script>
</body>
</html>